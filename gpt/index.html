function buildFretboard() {
  fretboard.innerHTML = "";
  let header = "<tr><th></th>";
  for (let f=0; f<=13; f++) header += `<th>${f}</th>`;
  header += "</tr>";
  fretboard.innerHTML += header;

  const tuning = dropDCheck.checked ? dropDTuning : standardTuning;

  // flip order â†’ lowest string at bottom
  [...tuning].reverse().forEach((openNote, stringIndex) => {
    let row = `<tr><th>Str ${6-stringIndex}</th>`;
    let startIndex = notes.indexOf(openNote);
    for (let f=0; f<=13; f++) {
      let note = notes[(startIndex + f) % 12];
      let fretClass = `fret-${f}`;
      row += `<td class="${fretClass}" data-note="${note}"></td>`;
    }
    row += "</tr>";
    fretboard.innerHTML += row;
  });
}
